plugins {
    id 'de.interactive_instruments.xtraplatform-application' version '2.0.3'
    id 'com.jfrog.bintray' version '1.8.4' apply false
    id 'com.github.hierynomus.license-report' version '0.15.0' apply false
}

allprojects {
    group = 'de.interactive_instruments'
}

version = '1.4.0'

dependencies {
    // features to include in this application
    feature group: 'de.interactive_instruments', name: 'xtraplatform-base', version: '2.0.4'
    feature group: 'de.interactive_instruments', name: 'xtraplatform-store', version: '2.0.10'
    feature group: 'de.interactive_instruments', name: 'xtraplatform-web', version: '2.0.8'
    feature group: 'de.interactive_instruments', name: 'xtraplatform-admin', version: '2.0.+'
    feature group: 'de.interactive_instruments', name: 'xtraplatform-sdi-tools', version: '3.0.+'
    featureDevOnly group: 'de.interactive_instruments', name: 'xtraplatform-dev', version: '2.0.+'

    // bundles to include in this application
    bundle subprojects
}

configurations.all {
    resolutionStrategy.cacheDynamicVersionsFor 10, 'minutes'

    resolutionStrategy.force 'de.interactive_instruments:xtraplatform-base:2.0.4', 'de.interactive_instruments:xtraplatform-web:2.0.8', 'de.interactive_instruments:xtraplatform-store:2.0.10', 'de.interactive_instruments:xtraplatform-rest:2.0.4'
}

repositories {
    maven {
        url "https://repo.boundlessgeo.com/main/"
    }
    maven {
        url "http://maven.geomajas.org"
    }
}


apply from: 'immutables.gradle'

apply from: 'bintray.gradle'

apply from: 'unit-tests.gradle'

//apply from: 'integration-tests.gradle'

apply from: 'license-headers.gradle'

apply from: 'docker.gradle'

//apply from: '../spatialdataontheweb/packaging.gradle'

apply from: 'license-report.gradle'

//apply plugin: 'xtraplatform-docs'

apply from: 'git-hooks.gradle'

/*

gradle-plugin-xtraplatform-docs-source

xpdocs {
    source: {
        format: markdown|asciidoc,
        layout: default|arc42,
        arc42: {
            goals: docs/01_introduction_and_goals.md,
            ...
        }
    }
}


gradle-plugin-xtraplatform-docs

xpdocs {
    target: {
        processor: default|asciidoctor,
        theme: ii,
        style: {
            primaryColor: #111111,
            ...
        }
    }
}

*/
task allDependencies {
    dependsOn allprojects.collect { "$it.path:dependencies" }
}
tasks.run {
//    debug = true
}

